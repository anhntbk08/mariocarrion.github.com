<!doctype html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Mario Carrion - Hackweek IV: Gwibber &#43; Sharing</title><meta name=author content="Mario Carrion"><meta name=description content="The blog of Mario Carrion"><link rel=canonical href=http://www.mariocarrion.com/2009/07/27/hackweek-iv-gwibber-sharing.html><link href="//fonts.googleapis.com/css?family=Inconsolata:400,700" rel=stylesheet><link rel="shortcut icon" href=/favicon.png><link rel=stylesheet href=/css/base.css><link rel=stylesheet href=/css/skeleton.css><link rel=stylesheet href=/css/screen.css><link rel=stylesheet href=/css/layout.css><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css><link rel=alternate type=application/rss+xml title="RSS Feed" href=/index.xml><div class=container><div class="four columns sidebar"><nav><h1>Hello stranger!</h1><a href=/><img src=/images/logo.png id=logo alt="Blog logo" class=circular></a><h1>I&#39;m <a href=/about.html>Mario Carrion</a></h1><hr><ul id=blog-pages class=posts><li><span>&raquo; </span><a href=/about.html>About me</a><li><span>&raquo; </span><a href=/books.html>Books</a><li><span>&raquo; </span><a href=/disclaimer.html>Disclaimer</a><li><span>&raquo; </span><a href=https://docs.google.com/document/d/1i0W6qNfGMhTfwWTHBaaKzlN9HLGwbk3GLeh8VtVlhNM>Resume</a><li><span>&raquo; </span><a href=/archive.html#2009>All posts in 2009</a></ul><div id=social><div id=stalker><a href=https://github.com/MarioCarrion><i class="fa fa-github-square"></i></a><a href=http://stackoverflow.com/users/134327><i class="fa fa-stack-overflow"></i></a><a href=https://twitter.com/mariocarrion><i class="fa fa-twitter-square"></i></a><a href=https://www.linkedin.com/in/mariocarrion><i class="fa fa-linkedin-square"></i></a></div></div></nav></div><div class="eleven columns content"><p class=meta>Jul 27, 2009
<a href=/><i class="home fa fa-home"></i></a><h1 class=title>Hackweek IV: Gwibber &#43; Sharing</h1><div id=post><p>I decided to try something different this <a href=http://news.opensuse.org/2009/07/08/hack-week-iv-approaches/>Hackweek</a> to learn a programming language and get involved into another exciting <em>software libre</em> project. There were too many options, too many good projects to work on. I selected <a href=http://live.gnome.org/Gwibber>gwibber</a> because of three reasons:<ol><li>gwibber supports several <a href=http://bazaar.launchpad.net/~gwibber-committers/gwibber/trunk/files/head%3A/gwibber/microblog/>microblogging services</a>, including my favorites: <a href=http://www.twitter.com/>Twitter</a> and <a href=http://www.facebook.com/>Facebook</a>.<li>gwibber is written in Python.<li>gwibber doesn't integrate with other gnome applications, for example <a href=http://projects.gnome.org/cheese/>Cheese</a> or <a href=http://live.gnome.org/Nautilus>Nautilus</a>.</ol><h3>So... what's the new cool feature?</h3><p>Something I like to call "Sharing Services". What's a <em>sharing service</em>? A sharing service is a service using an online provider to share data, easier impossible. For example: Images would be shared using <a href=http://twitpic.com/>Twitpic</a>, Videos would use <a href=http://yfrog.com/>yfrog</a>, Files would use <a href=http://drop.io/>Drop.io</a> and Plaint Text files would use <a href=http://pastebin.ca/>Pastebin</a> (this is configurable, in case you were wondering) I'm sure you got the idea.<p><a title="Data Sharing on Gwibber by Mario Carrion, on Flickr" href=http://www.flickr.com/photos/mariocarrion/3761746699/><img src=http://farm3.static.flickr.com/2429/3761746699_f73e35f00b_m.jpg alt="Data Sharing on Gwibber" width=240 height=186></a> <a title="Data Sharing on Gwibber by Mario Carrion, on Flickr" href=http://www.flickr.com/photos/mariocarrion/3762563436/><img src=http://farm3.static.flickr.com/2528/3762563436_6dacc2b37b_m.jpg alt="Data Sharing on Gwibber" width=240 height=183></a><h3>Technical approach</h3><p>The implementation is based on the following UML class diagram:<p><a title="Data Sharing on Gwibber by Mario Carrion, on Flickr" href=http://www.flickr.com/photos/mariocarrion/3762526330/><img src=http://farm4.static.flickr.com/3516/3762526330_ccfdc15155_m.jpg alt="Data Sharing on Gwibber" width=240 height=236></a><p>The idea is simple, subclass <em>Provider</em> and override <em>share</em> method and you are pretty much all set. I already implemented 3 services: <em>twitpic</em> to share images, <em>yfrog</em> to share images and video, and <em>pastebin.ca</em> to share plain text files. My plans include to implement the following providers:<h4>Plain text</h4><ul><li><a href=http://www.pastebin.cz/info/api>Pastebin.cz</a><li><a href=http://openpaste.org/en/help/#api-tools>OpenPaste</a></ul><h4>Video</h4><ul><li><a href=http://www.vimeo.com/>Vimeo</a><li><a href=http://twitvid.io/>Twitvid</a></ul><h4>Files</h4><ul><li><a href=http://drop.io/>Drop.io</a></ul><p>To allow communication between gnome/gtk/dbus-based applications I added a new dbus method: <em>share(filename,message)</em>, that way you can "share" your file using a message, you don't need to explicitly tell the provider+service to use, gwibber will use the filename's mime-type to get the valid provider and the configured service, convenient isn't it?<p><a title="Data Sharing on Gwibber  by Mario Carrion, on Flickr" href=http://www.flickr.com/photos/mariocarrion/3762638188/><img src=http://farm3.static.flickr.com/2472/3762638188_992bfb26c3_m.jpg alt="Data Sharing on Gwibber" width=240 height=183></a><h3>Where to get it?</h3><p>I branched <a href=https://code.launchpad.net/~gwibber-committers/gwibber/trunk>trunk</a> to implement this feature, you can read <a href=https://code.launchpad.net/~mario-carrion/gwibber/gwibber-services>launchpad</a> to get more information, basically you need to:<pre class=bash>bzr branch lp:~mario-carrion/gwibber/gwibber-services</pre><p>and execute:<pre class=bash>./bin/gwibber</pre><p>I also included a patch for cheese, I'm using <a href="http://git.gnome.org/cgit/cheese/log/?h=gnome-2-26">gnome-2-26</a> branch, in case you want to share your videos and images on gwibber using cheese.<h3>Cool video</h3><p><object classid=clsid:d27cdb6e-ae6d-11cf-96b8-444553540000 width=425 height=344 codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name=allowFullScreen value=true><param name=allowscriptaccess value=always><param name=src value="http://www.youtube.com/v/nbeRTHTfZjM&amp;hl=en&amp;fs=1&amp;color1=0x006699&amp;color2=0x54abd6"><param name=allowfullscreen value=true><embed type=application/x-shockwave-flash width=425 height=344 src="http://www.youtube.com/v/nbeRTHTfZjM&amp;hl=en&amp;fs=1&amp;color1=0x006699&amp;color2=0x54abd6" allowscriptaccess=always allowfullscreen></embed></object><h3>Known bugs and issues</h3><p>I'm aware of several bugs, for example: web timeouts, invalid responses and random deadlocks, so take it easy, remember: <strong>this is a preview, be happy</strong>. Also I need to think about multiple instances and implementing a real HTTP handler instead of using the MultiPartForm class, will decide it later.<p>OpenSUSE 11.1 Users: you may need to install python-related dependencies. OpenSUSE 11.1-64, if you want to use the nautilus extension, you will need create a symbolic link in <em>/usr/lib/</em> for <em>libpython2.6.so</em>. I'm going to report the packing bug as soon as possible.<p>BTW, you can always follow me on twitter: <a href=http://www.twitter.com/mariocarrion>@mariocarrion</a> in case you want to recommend me a new provider.</div><div id=related><h3>Posts</h3><ul class=posts><li><a href=/archive.html#2009>All posts this year 2009</a></ul><ul class=posts><li><span>Jul 01, 2009</span> <a href=http://www.mariocarrion.com/2009/07/01/multiple-parallel-mono-environments.html>Multiple Parallel Mono Environments</a><li><span>Jan 21, 2010</span> <a href=http://www.mariocarrion.com/2010/01/21/the-ruby-programming-language.html>The Ruby Programming Language</a></ul></div><div class=footer><div class=disclaimer><p>The postings on this site are my own and do not represent my
<a href=http://www.meredith.com/>employer's</a> positions, strategies or opinions.<p>&copy; Mario Carrion, 2004-2016 &mdash; built with <a href=https://gohugo.io/>Hugo</a> using a heavily modified version of <a href=https://github.com/swanson/lagom>Lagom theme</a></div></div></div></div><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-75640250-1','auto');ga('send','pageview');</script>