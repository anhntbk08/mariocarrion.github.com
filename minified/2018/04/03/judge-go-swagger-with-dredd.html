<!doctype html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Mario Carrion - Go Tip: Judging go-swagger with dredd</title><meta name=author content="Mario Carrion"><meta name=description content="The blog of Mario Carrion"><link rel=canonical href=http://www.mariocarrion.com/2018/04/03/judge-go-swagger-with-dredd.html><link href="//fonts.googleapis.com/css?family=Inconsolata:400,700" rel=stylesheet><link rel="shortcut icon" href=/favicon.png><link rel=stylesheet href=/css/base.css><link rel=stylesheet href=/css/skeleton.css><link rel=stylesheet href=/css/screen.css><link rel=stylesheet href=/css/layout.css><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css><link rel=alternate type=application/rss+xml title="RSS Feed" href=/index.xml><div class=container><div class="four columns sidebar"><nav><h1>Hello stranger!</h1><a href=/><img src=/images/logo.png id=logo alt="Blog logo" class=circular></a><h1>I&#39;m <a href=/about.html>Mario Carrion</a></h1><hr><ul id=blog-pages class=posts><li><span>&raquo; </span><a href=/about.html>About me</a><li><span>&raquo; </span><a href=/books.html>Books</a><li><span>&raquo; </span><a href=/disclaimer.html>Disclaimer</a><li><span>&raquo; </span><a href=https://docs.google.com/document/d/1i0W6qNfGMhTfwWTHBaaKzlN9HLGwbk3GLeh8VtVlhNM>Resume</a><li><span>&raquo; </span><a href=/archive.html#2018>All posts in 2018</a></ul><div id=social><div id=stalker><a href=https://github.com/MarioCarrion><i class="fa fa-github-square"></i></a><a href=http://stackoverflow.com/users/134327><i class="fa fa-stack-overflow"></i></a><a href=https://twitter.com/mariocarrion><i class="fa fa-twitter-square"></i></a><a href=https://www.linkedin.com/in/mariocarrion><i class="fa fa-linkedin-square"></i></a></div></div></nav></div><div class="eleven columns content"><p class=meta>Apr 03, 2018
<a href=/><i class="home fa fa-home"></i></a><h1 class=title>Go Tip: Judging go-swagger with dredd</h1><div id=post><p>Using <a href=https://github.com/go-swagger/go-swagger>go-swagger</a> it&rsquo;s great for automatically generating Swagger 2.0 documentation for your API from annotations in your code. It even includes a validator to make sure the generated <code>swagger.json</code> is valid:<pre><code>swagger validate swagger.json
</code></pre><p>However there&rsquo;s a tiny thing about this generated file, even if the <code>swagger.json</code> (or <a href=https://apiblueprint.org/>Blueprint</a>) file is 100% valid it may not represent your real implementation, think of typos, <a href=https://swagger.io/docs/specification/describing-responses/>broken responses</a>, <a href=https://swagger.io/docs/specification/describing-parameters/>missing parameters</a> or incorrect status codes.<p>Shocking right?!<p>Enter <a href=https://github.com/apiaryio/dredd>dredd</a>:<blockquote><p>Language-agnostic command-line tool for validating API description document against backend implementation of the API.</blockquote><p><strong>Dredd</strong> supports both Swagger and Blueprint as API Description formats, it has a plethora of supported hook languages, installation and usage is pretty straight-forward. To install it you will need NodeJS and a recent Python (3.0+), however you can always use Docker instead:</p><script src=//gist.github.com/MarioCarrion/1421c00bc80694ff8c127ccdc1b2b867.js></script><p>Using it is as simple as:<pre><code>dredd &lt;path-to-swagger.json&gt; &lt;backend-handlind-the-requests&gt;
</code></pre><p>Word of advice when interacting with Swagger&rsquo;s <em>in-path parameters</em>:<ol><li>You will need to add the <code>x-default</code> <a href=https://swagger.io/docs/specification/2-0/swagger-extensions/>vendor extension</a> so the requests made by <em>dredd</em> work.<li><strong>Do not</strong> add the <code>default</code> annotation for the in-path parameters because that will make the generated document invalid when calling <code>swagger validate</code>.</ol><p><img src=https://media.giphy.com/media/83QtfwKWdmSEo/giphy.gif alt="The more you know" title="The more you know"></div><div id=related><h3>Posts</h3><ul class=posts><li><a href=/archive.html#2018>All posts this year 2018</a></ul><ul class=posts><li><span>Mar 26, 2018</span> <a href=http://www.mariocarrion.com/2018/03/26/the-tao-of-microservices.html>Finished Reading: The TAO of Microservices</a><li><span>Apr 12, 2018</span> <a href=http://www.mariocarrion.com/2018/04/12/never-split-the-difference.html>Finished Reading: Never Split the Difference</a></ul></div><div class=footer><div class=disclaimer><p>The postings on this site are my own and do not represent my
<a href=http://www.meredith.com/>employer's</a> positions, strategies or opinions.<p>&copy; Mario Carrion, 2004-2016 &mdash; built with <a href=https://gohugo.io/>Hugo</a> using a heavily modified version of <a href=https://github.com/swanson/lagom>Lagom theme</a></div></div></div></div><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-75640250-1','auto');ga('send','pageview');</script>