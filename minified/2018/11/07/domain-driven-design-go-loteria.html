<!doctype html><html lang=en-us><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><meta name=author content="Mario Carrion"><meta name=description content="DDD &#43; Go &#43; Loteria = Fun"><meta property="og:title" content="Domain Driven Design and Go: Loteria!"><meta property="og:description" content="DDD &#43; Go &#43; Loteria = Fun"><meta property="og:type" content="article"><meta property="og:url" content="https://www.mariocarrion.com/2018/11/07/domain-driven-design-go-loteria.html"><meta property="article:published_time" content="2018-11-07T00:00:00+00:00"><meta property="article:modified_time" content="2018-11-07T00:00:00+00:00"><title>Domain Driven Design and Go: Loteria!</title><link rel=canonical href=https://www.mariocarrion.com/2018/11/07/domain-driven-design-go-loteria.html><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inconsolata:400,700" rel=stylesheet><link rel=stylesheet href=/css/reset.css><link rel=stylesheet href=/css/main.css><link rel="shortcut icon" href=/favicon.png><link rel=alternate type=application/rss+xml title="RSS Feed" href=/index.xml><body><section class=header><div class=container><div class=content><a href=/><img class=avatar src=/img/logo.png></a>
<a href=/><div class=name>Mario Carrion</div></a><nav><ul><li class=nav-about><a href=https://www.mariocarrion.com/about.html><span>About</span></a><li class=nav-archive><a href=https://www.mariocarrion.com/archive.html><span>All Posts</span></a><li class=nav-books><a href=https://www.mariocarrion.com/books.html><span>Books</span></a><li class=nav-resume><a href=https://docs.google.com/document/d/1i0W6qNfGMhTfwWTHBaaKzlN9HLGwbk3GLeh8VtVlhNM><span>Resume</span></a></ul></nav></div></div></section><section class=icons><div class=container><div class=content><a href=/index.xml><img class=icon src=/img/rss.svg alt=rss></a>
<a href=//twitter.com/MarioCarrion target=_blank rel=noopener><img class=icon src=/img/twitter.svg alt=twitter></a>
<a href=//gitlab.com/MarioCarrion target=_blank rel=noopener><img class=icon src=/img/gitlab.svg alt=gitlab></a>
<a href=//github.com/MarioCarrion target=_blank rel=noopener><img class=icon src=/img/github.svg alt=github></a>
<a href=//linkedin.com/in/MarioCarrion target=_blank rel=noopener><img class=icon src=/img/linkedin.svg alt=linkedin></a></div></div></section><section class="main post non-narrow zero-top-spacing"><div class=container><div class=content><div class=front-matter><div class=title-container><div class=page-heading>Domain Driven Design and Go: Loteria!</div><div class=initials><a href=https://www.mariocarrion.com></a></div></div><div class=meta><div class=date title="Wed Nov 7 2018 00:00:00 UTC">Nov 07, 2018</div></div></div><div class=markdown><h2 id=introduction>Introduction</h2><p>Last weekend we went to the <a href=https://www.amnh.org/>American Museum of Natural History</a> to attend the <a href=https://www.amnh.org/calendar/day-of-the-dead>D√≠a de Muertos festival</a>. The program itself was awesome and overall it was a fantastic experience. What surprised me the most during this visit, and definitely my <em>personal highlight</em>, is that it made me remember a game I used to play when I was a kid called: <a href=https://en.wikipedia.org/wiki/Loter%C3%ADa>Loter&iacute;a</a>.<blockquote class=twitter-tweet><p lang=es dir=ltr>El Borracho! <a href="https://twitter.com/hashtag/loter%C3%ADa?src=hash&amp;ref_src=twsrc%5Etfw">#loter√≠a</a>! <a href=https://t.co/54NqWyBzDS>pic.twitter.com/54NqWyBzDS</a></p>&mdash; Mario Carri√≥n #LFGM üçé (@mariocarrion) <a href="https://twitter.com/mariocarrion/status/1059154713244024832?ref_src=twsrc%5Etfw">November 4, 2018</a></blockquote><script async src=https://platform.twitter.com/widgets.js></script><p>This made me recall yet another thing: <em>the rules to play Loter&iacute;a are pretty straightforward</em>, it&rsquo;s sort of like a <em>&ldquo;Mexican Bingo&rdquo;</em>.<blockquote><p>Hear me out! All of this is going to make sense, wait for it.</blockquote><p>With those facts and the need I&rsquo;ve been having of finding a &ldquo;real&rdquo; project, big enough yet easy to understand to use as an example (so a lot of people can benefit from it) for showing off Domain Driven Design and Go is what encouraged me to start this new &ldquo;initiative&rdquo;.<blockquote><p>At work we have our own proprietary domain, and obviously I can not share that with you all, and I didn&rsquo;t want to use the usual &ldquo;To Do program&rdquo; because that really does not help that much, IMO.</blockquote><p><a href=https://en.wikipedia.org/wiki/Domain-driven_design>Domain Driven Design</a> is not something new, it&rsquo;s been here for more than a decade already, however in recent years has become more relevant because of the popularity of <em>Microservices</em> and how those are meant to be designed to do one single thing only the best way possible.<p>Domain Driven Design literature is vast, there are thousands of resources describing concrete implementations in different frameworks and programming languages, however not that many idiomatic ones in Go. I know <a href=https://medium.com/wtf-dial/wtf-dial-domain-model-9655cd523182>Ben</a> and <a href=https://peter.bourgon.org/go-for-industrial-programming/>Peter</a> are the prominent experts of showing us &ldquo;how to do it&rdquo; in Go, but still those specific resources are far from what I can consider a full working example.<p>So, starting today I&rsquo;ll be implementing this new project, a game using concrete Domain Rules that will evolve into a much more complex &ldquo;production-like&rdquo; service that is idiomatic and follows, as best possible, the Domain Driven Design software development approach.<h2 id=before-continuing>Before continuing</h2><p>If you&rsquo;re not familiar with Domain Driven Design, I highly recommend you watching this online course:<ul><li><a href="https://www.youtube.com/watch?v=Z0zpSB85XGs">Part 1: Overview and Core Values of Domain-Driven Design</a>,<li><a href="https://www.youtube.com/watch?v=pNTsTVoV2qA">Part 2: Strategic Design: Domains, Subdomains, Bounded Contexts &amp; Context Maps</a>,<li><a href="https://www.youtube.com/watch?v=RHg53wMflCc">Part 3: Internal Building Blocks: Aggregates, Entities, Value Objects Part <sup>3</sup>&frasl;<sub>5</sub></a>,<li><a href="https://www.youtube.com/watch?v=yWDaBdV-SL8">Part 4: Domain Events &amp; Event Storming Part Four</a>, and<li>Part 5: is not yet out.</ul><p>and reading the original resources:<ul><li><a href=https://smile.amazon.com/Domain-Driven-Design-Tackling-Complexity-Software/dp/0321125215/>Domain-Driven Design: Tackling Complexity in the Heart of Software 1st Edition</a><li><a href=https://smile.amazon.com/dp/1118714709/>Patterns, Principles, and Practices of Domain-Driven Design</a></ul><h2 id=let-s-start-now-loter-iacute-a-domain>Let&rsquo;s start now! Loter&iacute;a Domain</h2><p><strong>Loter&iacute;a Mexicana</strong>&rsquo;s simplest variant consists of the following rules:<ul><li>There is a deck with 54 cards,<li>There are N players, each player is given one <em>Tabla</em> (Board),<li><em>Tablas</em> always have a randomly created 4x4 grid of cards,<li>Given <em>tablas</em> are unique during the duration of the game,<li>There&rsquo;s a <em>Cantor</em> (Announcer), who is in charge of randomly selecting cards from the deck,<li>Players have to listen to the announced cards and mark them on their boards,<li>The winner is determined by the first player who shouts <strong>&ldquo;LOTER&Iacute;A!&rdquo;</strong> and (<strong>more importantly</strong>) has four sequential marked cards in a horizontal, vertical or diagonal row.</ul><p>That being said, let&rsquo;s take a break for now, digest everything and come back tomorrow.</p><br><p class=back-to-posts><a href=/archive.html>Back to posts</a></div><br><div class=disqus></div></div></div></section>