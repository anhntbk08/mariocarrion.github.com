<!doctype html><html lang=en-us><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=HandheldFriendly content=True><meta name=MobileOptimized content=320><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content=no-referrer><meta name=author content="Mario Carrion"><meta name=description content="How difficult, or easy, was it?"><meta property=og:title content="Migrated: From Jekyll to Hugo"><meta property=og:description content="How difficult, or easy, was it?"><meta property=og:type content=article><meta property=og:url content=https://www.mariocarrion.com/2016/10/19/hugo-migration.html><meta property=article:published_time content=2016-10-19T00:00:00&#43;00:00><meta property=article:modified_time content=2016-10-19T00:00:00&#43;00:00><title>Migrated: From Jekyll to Hugo</title><link rel=canonical href=https://www.mariocarrion.com/2016/10/19/hugo-migration.html><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inconsolata:400,700" rel=stylesheet><link rel=stylesheet href=/css/reset.css><link rel=stylesheet href=/css/main.css><link rel="shortcut icon" href=/favicon.png><link rel=alternate type=application/rss+xml title="RSS Feed" href=/index.xml><body><section class=header><div class=container><div class=content><a href=/><img class=avatar src=/img/logo.png></a>
<a href=/><div class=name>Mario Carrion</div></a><nav><ul><li class=nav-about><a href=https://www.mariocarrion.com/about.html><span>About</span></a><li class=nav-archive><a href=https://www.mariocarrion.com/archive.html><span>All Posts</span></a><li class=nav-books><a href=https://www.mariocarrion.com/books.html><span>Books</span></a><li class=nav-resume><a href=https://docs.google.com/document/d/1i0W6qNfGMhTfwWTHBaaKzlN9HLGwbk3GLeh8VtVlhNM><span>Resume</span></a></ul></nav></div></div></section><section class=icons><div class=container><div class=content><a href=/index.xml><img class=icon src=/img/rss.svg alt=rss></a>
<a href=//github.com/MarioCarrion target=_blank rel=noopener><img class=icon src=/img/github.svg alt=github></a>
<a href=//twitter.com/MarioCarrion target=_blank rel=noopener><img class=icon src=/img/twitter.svg alt=twitter></a>
<a href=//linkedin.com/in/MarioCarrion target=_blank rel=noopener><img class=icon src=/img/linkedin.svg alt=linkedin></a></div></div></section><section class=main><div class=container><div class=content><div class=page-heading>Migrated: From Jekyll to Hugo</div><div class=markdown><p>If I recall correctly this is the fourth time migrating my blog to a different service or engine, I started using <a href=https://en.wikipedia.org/wiki/Blogger_(service)>Blogger</a>, migrated to <a href=https://en.wikipedia.org/wiki/WordPress>Wordpress</a>, then <a href=https://jekyllrb.com/>Jekyll</a> and now <a href=https://gohugo.io/>Hugo</a>.<p>The truth is that after migrating and building my blog for the first time with Hugo I was extremely surprised: <strong>it took less than 400ms</strong>, with Jekyll? It takes more than 5 minutes! Sometimes even more specially when you start getting errors that prevent the build, not to mention that the automatic rebuild after resaving does not seem to work properly.<blockquote class=twitter-tweet><p lang=en dir=ltr>My night so far: Mets get swept. Jekyll keeps throwing: &quot;jekyll 2.4.0 | Error: Rate limit exceeded&quot; <a href=https://t.co/Qq7NcKKKTR>pic.twitter.com/Qq7NcKKKTR</a></p>&mdash; Mario Carrion (@mariocarrion) <a href="https://twitter.com/mariocarrion/status/778790542452883456?ref_src=twsrc%5Etfw">September 22, 2016</a></blockquote><script async src=https://platform.twitter.com/widgets.js></script><h2 id=how-was-it>How was it?</h2><p>Migrating to Hugo was pretty straightforward, I followed the official <a href=https://gohugo.io/tutorials/migrate-from-jekyll/>Migrate to Hugo from Jekyll</a> guide, then I reworked my <a href=https://github.com/swanson/lagom>Lagom theme</a> to implement it using <a href=http://gohugo.io/templates/go-templates/>Go&rsquo;s template system</a>. It took me about 3 weeknights to complete the whole migration. From that I learned the following:<h3 id=embedded-tweets>Embedded tweets</h3><p>In Jekyll I used the <a href=https://github.com/rob-murray/jekyll-twitter-plugin>jekyll-twitter-plugin</a> to embed tweets, Hugo includes a <a href=https://gohugo.io/extras/shortcodes/>shortcode</a> called, surprisingly, <strong>tweet</strong>. So stuff like this:<pre class=black-pre>
{% twitter oembed https://twitter.com/mariocarrion/status/771469295431868416 %}
</pre><p>becomes:<pre class=black-pre>
{{&lt; tweet 779294387348135936 &gt;}}
</pre><h3 id=permalinks>Permalinks</h3><p>Permalinks are built by default using the following format:<pre class=black-pre>
/2016/10/06/go-web-programming/index.html
</pre><p>That does not work for me, because of the SEO, so I had to rename all the posts to the <strong>date+article-name.html</strong> format, so those became:<pre class=black-pre>
/2016/10/06/go-web-programming.html
</pre><h3 id=post-references>Post references</h3><p>In Jekyll links to your own posts on your blog use the following format:<pre class=black-pre>
{% post_url 2016-09-16-first-sprint-with-go-and-docker %}) 
</pre><p>In Hugo there are two shortcodes for generating links like that, either relative or absolute, so previous Jekyll links became something like the following:<pre class=black-pre>
{{&lt; relref "2016-09-16-first-sprint-with-go-and-docker.markdown" &gt;}}
</pre><h3 id=syntax-highlighting>Syntax Highlighting</h3><p>Jekyll uses something like:<pre class=black-pre>
{% highlight ruby %}
puts 'foo'
{% endhighlight %}
</pre><p>The migration script correctly migrated those tags above to the Hugo format, so everything became:<pre class=black-pre>
{{&lt; highlight ruby &gt;}}
puts 'foo'
{{&lt; / highlight &gt;}}
</pre><p>However I didn&rsquo;t have any syntax highlighting, fixing this issue was easy after reading <a href=https://gohugo.io/extras/highlighting/>the official guide</a>; I was missing the <strong>pygmentize</strong> command, installing <a href=http://pygments.org/>Pygments</a> fixed the issue:<pre class=black-pre>
easy_install Pygments
</pre><h2 id=archive-page>Archive page</h2><p>In Jekyll I built the <a href=/archive.html>Archive page</a> using Liquid, in Hugo I had to rewrite everything <a href=https://github.com/MarioCarrion/mariocarrion.github.com/blob/master/themes/lagom/layouts/shortcodes/archive_list.html>using a shortcode</a>, and then reference this shortcode from <a href=https://github.com/MarioCarrion/mariocarrion.github.com/blob/master/content/pages/archive.markdown>the page itself</a>.<h2 id=html-and-css-minification>HTML and CSS minification</h2><p>Minification in Jekyll was handled through the <a href=https://github.com/stereobooster/jekyll-press>jekyll-press</a>; Hugo does not support anything similar out of box, instead what is suggested is to use a external tool for doing so, one of the recommended options is <a href=https://github.com/tdewolff/minify/tree/master/cmd/minify>Minify</a>. In the end I made a <a href=https://github.com/MarioCarrion/mariocarrion.github.com/blob/master/Makefile>Makefile</a> that calls <em>Hugo</em> and <em>minify</em> to generate the final site, all is working really good.<h2 id=cleanup-program>Cleanup program</h2><p>In order to save myself some time and make sure there were no errors while replacing the old tags with the new tags (tweet tags, renaming the permalinks and cleaning up old fronmatter tags) I wrote a <a href=https://github.com/MarioCarrion/jekyll-to-hugo>Go program</a>.<p>What I&rsquo;m missing right now are the Open Graph and Twitter meta tags for properly displaying the content when sharing, I&rsquo;ll be working on that next, for now everything builds faster and I could not be any happier.</div></div></div></section>